{"openapi":"3.0.3","info":{"title":"Notification Service API","version":"1.0.0"},"servers":[{"url":"/"}],"components":{"schemas":{"Notification":{"type":"object","properties":{"id":{"type":"integer"},"subject":{"type":"string"},"message":{"type":"string"},"recipientId":{"type":"integer"},"created_at":{"type":"string","format":"date-time"}},"example":{"id":1,"subject":"Hello","message":"World","recipientId":1,"created_at":"2025-08-12T12:00:00Z"}},"CreateNotificationInput":{"type":"object","required":["subject","message"],"properties":{"subject":{"type":"string"},"message":{"type":"string"},"recipientId":{"type":"integer"}},"example":{"subject":"Greetings","message":"Hi there","recipientId":1}},"Error":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"correlationId":{"type":"string"},"details":{"type":"array","items":{"type":"object"}}},"example":{"code":400,"message":"validation error","correlationId":"abc-123","details":[]}}},"responses":{"NotFound":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"ValidationError":{"description":"Bad request - validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"RecipientNotFound":{"description":"Recipient not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"ServiceUnavailable":{"description":"Upstream service unavailable","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"paths":{"/notifications":{"get":{"summary":"List notifications","tags":["Notifications"],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Notification"}}}}}}},"post":{"summary":"Create a notification","tags":["Notifications"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateNotificationInput"},"examples":{"sample":{"value":{"subject":"Hello","message":"World","recipientId":1}}}}}},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Notification"}}}},"400":{"$ref":"#/components/responses/ValidationError"},"422":{"$ref":"#/components/responses/RecipientNotFound"},"503":{"$ref":"#/components/responses/ServiceUnavailable"}}}},"/notifications/{id}":{"get":{"summary":"Get a notification by id","tags":["Notifications"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Notification"}}}},"404":{"$ref":"#/components/responses/NotFound"}}},"put":{"summary":"Update a notification","tags":["Notifications"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"subject":{"type":"string"},"message":{"type":"string"}}}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Notification"}}}},"400":{"$ref":"#/components/responses/ValidationError"},"404":{"$ref":"#/components/responses/NotFound"}}},"delete":{"summary":"Delete a notification","tags":["Notifications"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"204":{"description":"No Content"},"404":{"$ref":"#/components/responses/NotFound"}}}}},"tags":[]}